
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta charset="utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1.0"></meta>
      <meta class="swiftype" name="neo4j-site" data-type="enum" content="Reference Docs"></meta>
      <meta class="swiftype" name="main-search-priority" data-type="integer" content="3"></meta>
      <title>8.1.&nbsp;Creating Data - Chapter&nbsp;8.&nbsp;Graph Updates</title>
      <link rel="stylesheet" type="text/css" href="../../docbook.css"></link>
      <link rel="stylesheet" type="text/css" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"></link>
      <link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.10.13/css/jquery.dataTables.min.css"></link>
      <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.1.0/css/font-awesome.min.css"></link>
      <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Open+Sans:400,300,400italic,600,300italic"></link>
      <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.11.0/codemirror.min.css"></link>
      <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.11.0/theme/neo.min.css"></link>
      <link rel="stylesheet" type="text/css" href="../../css/chunked-base.css"></link>
      <link rel="stylesheet" type="text/css" href="../../css/extra.css"></link><script src="//code.jquery.com/jquery-1.12.4.js" type="text/javascript"></script><script src="//cdn.datatables.net/1.10.13/js/jquery.dataTables.min.js" type="text/javascript"></script><script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" type="text/javascript"></script><script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.11.0/codemirror.min.js" type="text/javascript"></script><script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.11.0/addon/runmode/runmode.min.js" type="text/javascript"></script><script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.11.0/mode/cypher/cypher.min.js" type="text/javascript"></script><script src="../../javascript/datatable.js" type="text/javascript"></script><script src="../../javascript/colorize.js" type="text/javascript"></script><script src="../../javascript/tabs-for-chunked.js" type="text/javascript"></script><script src="../../javascript/mp-nav.js" type="text/javascript"></script><script src="../../javascript/versionswitcher.js" type="text/javascript"></script><script src="../../javascript/version.js" type="text/javascript"></script><script src="../../javascript/feedback.js" type="text/javascript"></script><script src="//s3-eu-west-1.amazonaws.com/alpha.neohq.net/docs/new-manual/assets/search.js" type="text/javascript"></script><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"></meta>
      <meta name="description" content="This section describes functions that can be used to create data entities."></meta>
      <link rel="prev" href="../atomic-updates/" title="8.4.&nbsp;Atomic Property Updates"></link>
      <link rel="next" href="../data-deletion/" title="8.9.&nbsp;Deleting Data"></link>
      <link rel="shortcut icon" href="https://neo4j.com/wp-content/themes/neo4jweb/favicon.ico"></link><script>var frontpage_relpath = "../../";
        $(document).ready(function() {
          CodeMirror.colorize();
          tabTheSource($('body'));
          var $header = $('header').first();
          $header.prepend(
            $('<a href="https://neo4j.com/docs/labs/" id="logo"><img src="https://s3.amazonaws.com/dev.assets.neo4j.com/wp-content/uploads/20190802073913/labs-logo6.png" alt="Neo4j Labs Logo"/></a>')
          );
          var sidebar = $('<div id="sidebar-wrapper"/>');
          $.get('toc.html', function (d){
            $(d).appendTo(sidebar);
            highlightToc();
            highlightLibraryHeader();
          });
          sidebar.insertAfter($('header').first());
          
        });

        </script></head>
   <body>
      <header>
         <div class="searchbox">
            <form id="search-form" class="search" name="search-form" role="search"><input id="search-form-input" name="q" title="search" type="search" lang="en" placeholder="Search Neo4j docs..." aria-label="Search Neo4j documentation" max-length="128" required="required"></input><input id="search-form-button" type="submit" value="Search"></input></form>
         </div>
         <ul class="documentation-library">
            <li><a href="https://neo4j.com/docs/labs/apoc/4.0/">APOC</a></li>
            <li><a href="https://neo4j.com/docs/labs/neo4j-streams/current/">Neo4j Streams</a></li>
            <li><a href="https://neo4j.com/docs/labs/nsmntx/current/">Neo Semantics</a></li>
            <li><a href="https://neo4j.com/docs/graph-algorithms/current/">Graph Algorithms</a></li>
            <li><a href="https://neo4j.com/docs/developer-manual/current/">Developer Manual</a></li>
         </ul>
         <nav id="header-nav"><span class="nav-previous"><a accesskey="p" href="../atomic-updates/"><span class="fa fa-long-arrow-left" aria-hidden="true"></span>Atomic Property Updates</a></span><span class="nav-current">
               <p class="nav-title hidden">8.1.&nbsp;Creating Data</p></span><span class="nav-next"><a accesskey="n" href="../data-deletion/">Deleting Data<span class="fa fa-long-arrow-right" aria-hidden="true"></span></a></span></nav>
      </header>
      <div id="search-results" class="hidden"></div>
      <section class="section" id="data-creation">
         <div class="titlepage">
            <div>
               <div>
                  <h2 class="title" style="clear: both"><a class="anchor" href="#data-creation"></a>8.1.&nbsp;Creating Data
                  </h2>
               </div>
            </div>
         </div>
         <div class="abstract">
            <p>This section describes functions that can be used to create data entities.</p>
         </div>
         <p>The library has support for procedures that add to the write functionality that comes with Neo4j.
            Many of these procedures enable dynamic data creation, such as dynamically adding node labels and node or relationship properties.
         </p>
         <div class="informaltable">
            <div class="table" id="d0e20370">
               <table class="informaltable" border="1">
                  <colgroup>
                     <col class="col_1"></col>
                     <col class="col_2"></col>
                  </colgroup>
                  <tbody>
                     <tr>
                        <td style="text-align: left; vertical-align: top; ">
                           <p><code class="literal">CALL apoc.create.node(['Label'], {key:value,&#8230;&#8203;})</code></p>
                        </td>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>create node with dynamic labels</p>
                        </td>
                     </tr>
                     <tr>
                        <td style="text-align: left; vertical-align: top; ">
                           <p><code class="literal">CALL apoc.create.nodes(['Label'], [{key:value,&#8230;&#8203;}])</code></p>
                        </td>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>create multiple nodes with dynamic labels</p>
                        </td>
                     </tr>
                     <tr>
                        <td style="text-align: left; vertical-align: top; ">
                           <p><code class="literal">CALL apoc.create.addLabels( [node,id,ids,nodes], ['Label',&#8230;&#8203;])</code></p>
                        </td>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>adds the given labels to the node or nodes</p>
                        </td>
                     </tr>
                     <tr>
                        <td style="text-align: left; vertical-align: top; ">
                           <p><code class="literal">CALL apoc.create.removeLabels( [node,id,ids,nodes], ['Label',&#8230;&#8203;])</code></p>
                        </td>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>removes the given labels from the node or nodes</p>
                        </td>
                     </tr>
                     <tr>
                        <td style="text-align: left; vertical-align: top; ">
                           <p><code class="literal">CALL apoc.create.setProperty( [node,id,ids,nodes], key, value)</code></p>
                        </td>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>sets the given property on the node(s)</p>
                        </td>
                     </tr>
                     <tr>
                        <td style="text-align: left; vertical-align: top; ">
                           <p><code class="literal">CALL apoc.create.setProperties( [node,id,ids,nodes], [keys], [values])</code></p>
                        </td>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>sets the given properties on the nodes(s)</p>
                        </td>
                     </tr>
                     <tr>
                        <td style="text-align: left; vertical-align: top; ">
                           <p><code class="literal">CALL apoc.create.setRelProperty( [rel,id,ids,rels], key, value)</code></p>
                        </td>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>sets the given property on the relationship(s)</p>
                        </td>
                     </tr>
                     <tr>
                        <td style="text-align: left; vertical-align: top; ">
                           <p><code class="literal">CALL apoc.create.setRelProperties( [rel,id,ids,rels], [keys], [values])</code></p>
                        </td>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>sets the given properties on the relationship(s)</p>
                        </td>
                     </tr>
                     <tr>
                        <td style="text-align: left; vertical-align: top; ">
                           <p><code class="literal">CALL apoc.create.relationship(person1,'KNOWS',{key:value,&#8230;&#8203;}, person2)</code></p>
                        </td>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>create relationship with dynamic rel-type</p>
                        </td>
                     </tr>
                     <tr>
                        <td style="text-align: left; vertical-align: top; ">
                           <p><code class="literal">CALL apoc.nodes.link([nodes],'REL_TYPE')</code></p>
                        </td>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>creates a linked list of nodes from first to last</p>
                        </td>
                     </tr>
                     <tr>
                        <td style="text-align: left; vertical-align: top; ">
                           <p><code class="literal">CALL apoc.merge.node(['Label'], identProps:{key:value, &#8230;&#8203;}, onCreateProps:{key:value,&#8230;&#8203;}, onMatchProps:{key:value,&#8230;&#8203;}})</code></p>
                        </td>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>merge nodes with dynamic labels, with support for setting properties ON CREATE or ON MATCH</p>
                        </td>
                     </tr>
                     <tr>
                        <td style="text-align: left; vertical-align: top; ">
                           <p><code class="literal">CALL apoc.merge.relationship(startNode, relType, identProps:{key:value, &#8230;&#8203;}, onCreateProps:{key:value, &#8230;&#8203;}, endNode, onMatchProps:{key:value,
                                 &#8230;&#8203;})</code></p>
                        </td>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>merge relationship with dynamic type, with support for setting properties ON CREATE or ON MATCH</p>
                        </td>
                     </tr>
                     <tr>
                        <td style="text-align: left; vertical-align: top; ">
                           <p><code class="literal">CALL apoc.create.removeProperties( [node,id,ids,nodes], [keys])</code></p>
                        </td>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>removes the given properties from the nodes(s)</p>
                        </td>
                     </tr>
                     <tr>
                        <td style="text-align: left; vertical-align: top; ">
                           <p><code class="literal">CALL apoc.create.removeRelProperties( [rel,id,ids,rels], [keys])</code></p>
                        </td>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>removes the given properties from the relationship(s)</p>
                        </td>
                     </tr>
                  </tbody>
               </table>
            </div>
         </div>
         <p>This section includes:</p>
         <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; ">
               <li class="listitem"><a class="xref" href="#delete-labels" title="8.1.1.&nbsp;Remove Node Labels">Section&nbsp;8.1.1, &#8220;Remove Node Labels&#8221;</a></li>
               <li class="listitem"><a class="xref" href="#set-properties" title="8.1.2.&nbsp;Set Node and Relationship Properties">Section&nbsp;8.1.2, &#8220;Set Node and Relationship Properties&#8221;</a></li>
               <li class="listitem"><a class="xref" href="#delete-properties" title="8.1.3.&nbsp;Remove Node and Relationship Properties">Section&nbsp;8.1.3, &#8220;Remove Node and Relationship Properties&#8221;</a></li>
               <li class="listitem"><a class="xref" href="#linked-lists" title="8.1.4.&nbsp;Linked Lists">Section&nbsp;8.1.4, &#8220;Linked Lists&#8221;</a></li>
            </ul>
         </div>
         <section class="section" id="delete-labels">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title"><a class="anchor" href="#delete-labels"></a>8.1.1.&nbsp;Remove Node Labels
                     </h3>
                  </div>
               </div>
            </div>
            <p>Cypher supports deleting of labels as long as the labels are hard coded.
               If the labels are dynamically specified we can use the <code class="literal">apoc.create.removeLabels</code> procedure.
            </p>
            <p><span class="formalpara-title">The following creates a sample graph of people:&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">CREATE (jennifer:Person:US {name: "Jennifer", community: 1, partition: 4})
CREATE (karin:Person:US {name: "Karin", community: 4, partition: 2})
CREATE (mark:Person:UK {name: "Mark", community: 3, partition: 3})</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">The following removes all labels except <code class="literal">Person</code> from all nodes:&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">CALL db.labels()
YIELD label WHERE label &lt;&gt; "Person"
WITH collect(label) AS labels
MATCH (p:Person)
WITH collect(p) AS people, labels
CALL apoc.create.removeLabels(people, labels)
YIELD node
RETURN node, labels(node) AS labels</code></pre><p>
               
            </p>
            <div class="table" id="d0e20529">
               <table class="table" summary="Results" border="1">
                  <caption class="table-title">Table&nbsp;8.1.&nbsp;Results</caption>
                  <colgroup>
                     <col class="col_1"></col>
                     <col class="col_2"></col>
                  </colgroup>
                  <thead>
                     <tr>
                        <th style="text-align: left; vertical-align: top; ">node</th>
                        <th style="text-align: left; vertical-align: top; ">labels</th>
                     </tr>
                  </thead>
                  <tbody>
                     <tr>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>(:Person {name: "Jennifer", partition: 4, community: 1})</p>
                        </td>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>["Person"]</p>
                        </td>
                     </tr>
                     <tr>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>(:Person {name: "Karin", partition: 2, community: 4})</p>
                        </td>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>["Person"]</p>
                        </td>
                     </tr>
                     <tr>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>(:Person {name: "Mark", partition: 3, community: 3})</p>
                        </td>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>["Person"]</p>
                        </td>
                     </tr>
                  </tbody>
               </table>
            </div>
         </section>
         <section class="section" id="set-properties">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title"><a class="anchor" href="#set-properties"></a>8.1.2.&nbsp;Set Node and Relationship Properties
                     </h3>
                  </div>
               </div>
            </div>
            <p>Cypher supports setting of properties as long as the property names are hard coded.
               If the property names are dynamically specified we can use the <code class="literal">apoc.create.setProperties</code> and <code class="literal">apoc.create.setRelProperties</code> procedures.
            </p>
            <p><span class="formalpara-title">The following creates a sample graph of people:&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">CREATE (jennifer:Person {name: "Jennifer", community: 1, partition: 4})
CREATE (karin:Person {name: "Karin", community: 4, partition: 2})
CREATE (elaine:Person {name: "Elaine", community: 3, partition: 3})
MERGE (jennifer)-[:FRIENDS {since: datetime("2019-06-01")}]-(karin)
MERGE (jennifer)-[:FRIENDS {since: datetime("2019-05-04")}]-(elaine)</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">The following duplicates all node properties on <code class="literal">Person</code> nodes:&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (p:Person)
WITH p, keys(p) AS keys
CALL apoc.create.setProperties(p,[k in keys | k + "Copy"], [k in keys | p[k]])
YIELD node
RETURN node</code></pre><p>
               
            </p>
            <div class="table" id="d0e20593">
               <table class="table" summary="Results" border="1">
                  <caption class="table-title">Table&nbsp;8.2.&nbsp;Results</caption>
                  <colgroup>
                     <col class="col_1"></col>
                  </colgroup>
                  <thead>
                     <tr>
                        <th style="text-align: left; vertical-align: top; ">node</th>
                     </tr>
                  </thead>
                  <tbody>
                     <tr>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>{"name":"Jennifer","partition":4,"community":1,"nameCopy":"Jennifer","partitionCopy":4,"communityCopy":1}</p>
                        </td>
                     </tr>
                     <tr>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>{"name":"Karin","partition":2,"community":4,"nameCopy":"Karin","partitionCopy":2,"communityCopy":4}</p>
                        </td>
                     </tr>
                     <tr>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>{"name":"Mark","partition":3,"community":3,"nameCopy":"Mark","partitionCopy":3,"communityCopy":3}</p>
                        </td>
                     </tr>
                  </tbody>
               </table>
            </div>
            <p><span class="formalpara-title">The following duplicates all relationship properties:&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (:Person)-[friends:FRIENDS]-&gt;(:Person)
WITH friends, keys(friends) AS keys
CALL apoc.create.setRelProperties(friends,[k in keys | k + "Copy"], [k in keys | friends[k]])
YIELD rel
RETURN startNode(rel) AS start, rel, endNode(rel) AS end</code></pre><p>
               
            </p>
            <div class="table" id="d0e20623">
               <table class="table" summary="Results" border="1">
                  <caption class="table-title">Table&nbsp;8.3.&nbsp;Results</caption>
                  <colgroup>
                     <col class="col_1"></col>
                     <col class="col_2"></col>
                     <col class="col_3"></col>
                  </colgroup>
                  <thead>
                     <tr>
                        <th style="text-align: left; vertical-align: top; ">start</th>
                        <th style="text-align: left; vertical-align: top; ">rel</th>
                        <th style="text-align: left; vertical-align: top; ">end</th>
                     </tr>
                  </thead>
                  <tbody>
                     <tr>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>{
                                  "name": "Jennifer",
                                  "partition": 4,
                                  "community": 1,
                                  "nameCopy": "Jennifer",
                                  "partitionCopy": 4,
                                  "communityCopy": 1
                                }
                           </p>
                        </td>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>{
                                      "sinceCopy": "2019-05-04T00:00:00Z",
                                      "since": "2019-05-04T00:00:00Z"
                                    }
                           </p>
                        </td>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>{
                                            "name": "Elaine",
                                            "partition": 3,
                                            "community": 3,
                                            "nameCopy": "Elaine",
                                            "partitionCopy": 3,
                                            "communityCopy": 3
                                          }
                           </p>
                        </td>
                     </tr>
                     <tr>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>{
                                  "name": "Jennifer",
                                  "partition": 4,
                                  "community": 1,
                                  "nameCopy": "Jennifer",
                                  "partitionCopy": 4,
                                  "communityCopy": 1
                                }
                           </p>
                        </td>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>{
                                      "sinceCopy": "2019-06-01T00:00:00Z",
                                      "since": "2019-06-01T00:00:00Z"
                                    }
                           </p>
                        </td>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>{
                                            "name": "Karin",
                                            "partition": 2,
                                            "community": 4,
                                            "nameCopy": "Karin",
                                            "partitionCopy": 2,
                                            "communityCopy": 4
                                          }
                           </p>
                        </td>
                     </tr>
                  </tbody>
               </table>
            </div>
         </section>
         <section class="section" id="delete-properties">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title"><a class="anchor" href="#delete-properties"></a>8.1.3.&nbsp;Remove Node and Relationship Properties
                     </h3>
                  </div>
               </div>
            </div>
            <p>Cypher supports deleting of properties as long as the property names are hard coded.
               If the property names are dynamically specified we can use the <code class="literal">apoc.create.removeProperties</code> and <code class="literal">apoc.create.removeRelProperties</code> procedures.
            </p>
            <p><span class="formalpara-title">The following creates a sample graph of people:&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">CREATE (jennifer:Person {name: "Jennifer", community: 1, partition: 4})
CREATE (karin:Person {name: "Karin", community: 4, partition: 2})
CREATE (elaine:Person {name: "Elaine", community: 3, partition: 3})
MERGE (jennifer)-[:FRIENDS {since: datetime("2019-06-01")}]-(karin)
MERGE (jennifer)-[:FRIENDS {since: datetime("2019-05-04")}]-(elaine)</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">The following deletes all properties except for <code class="literal">name</code> from <code class="literal">Person</code> nodes:&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">CALL db.propertyKeys()
YIELD propertyKey WHERE propertyKey &lt;&gt; "name"
WITH collect(propertyKey) AS propertyKeys
MATCH (p:Person)
WITH collect(p) AS nodes, propertyKeys
CALL apoc.create.removeProperties(nodes, propertyKeys)
YIELD node
RETURN node</code></pre><p>
               
            </p>
            <div class="table" id="d0e20692">
               <table class="table" summary="Results" border="1">
                  <caption class="table-title">Table&nbsp;8.4.&nbsp;Results</caption>
                  <colgroup>
                     <col class="col_1"></col>
                  </colgroup>
                  <thead>
                     <tr>
                        <th style="text-align: left; vertical-align: top; ">node</th>
                     </tr>
                  </thead>
                  <tbody>
                     <tr>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>{"name":"Jennifer"}</p>
                        </td>
                     </tr>
                     <tr>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>{"name":"Karin"}</p>
                        </td>
                     </tr>
                     <tr>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>{"name":"Elaine"}</p>
                        </td>
                     </tr>
                  </tbody>
               </table>
            </div>
            <p><span class="formalpara-title">The following deletes properties from all relationships:&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">CALL db.propertyKeys()
YIELD propertyKey
WITH collect(propertyKey) AS propertyKeys
MATCH (:Person)-[friends:FRIENDS]-&gt;(:Person)
WITH collect(friends) AS friendsRels, propertyKeys
CALL apoc.create.removeRelProperties(friendsRels, propertyKeys)
YIELD rel
RETURN startNode(rel) AS start, rel, endNode(rel) AS end</code></pre><p>
               
            </p>
            <div class="table" id="d0e20722">
               <table class="table" summary="Results" border="1">
                  <caption class="table-title">Table&nbsp;8.5.&nbsp;Results</caption>
                  <colgroup>
                     <col class="col_1"></col>
                     <col class="col_2"></col>
                     <col class="col_3"></col>
                  </colgroup>
                  <thead>
                     <tr>
                        <th style="text-align: left; vertical-align: top; ">start</th>
                        <th style="text-align: left; vertical-align: top; ">rel</th>
                        <th style="text-align: left; vertical-align: top; ">end</th>
                     </tr>
                  </thead>
                  <tbody>
                     <tr>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>{"name":"Jennifer"}</p>
                        </td>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>{}</p>
                        </td>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>{"name":"Elaine"}</p>
                        </td>
                     </tr>
                     <tr>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>{"name":"Jennifer"}</p>
                        </td>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>{}</p>
                        </td>
                        <td style="text-align: left; vertical-align: top; ">
                           <p>{"name":"Karin"}</p>
                        </td>
                     </tr>
                  </tbody>
               </table>
            </div>
         </section>
         <section class="section" id="linked-lists">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title"><a class="anchor" href="#linked-lists"></a>8.1.4.&nbsp;Linked Lists
                     </h3>
                  </div>
               </div>
            </div>
            <p>Creating a linked list from a collection of nodes can be done in Cypher, but is much easier with the <code class="literal">apoc.nodes.link</code> procedure.
            </p>
            <p><span class="formalpara-title">The following creates a sample graph of events:&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">CREATE (:Event {name: "Event 1", date: datetime("2019-06-01")})
CREATE (:Event {name: "Event 2", date: datetime("2019-06-04")})
CREATE (:Event {name: "Event 3", date: datetime("2019-06-08")})</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">The following creates a linked list of these events:&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (e:Event)
WITH e ORDER BY e.date
WITH collect(e) AS events
CALL apoc.nodes.link(events, "NEXT")
RETURN count(*)</code></pre><p>
               
            </p>
            <div class="informalfigure">
               <div class="mediaobject">
                  <table style="border: 0; width: 100%; cellpadding: 0; cellspacing: 0;">
                     <tr>
                        <td><img src="../../images/linked-list-events.svg" width="100%" alt="linked list events"></img></td>
                     </tr>
                  </table>
               </div>
            </div>
         </section>
      </section>
      <footer><script type="text/javascript">
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
          //Allow Linker
          ga('create', 'UA-1192232-34','auto', {'allowLinker': true});
          ga('send', 'pageview');
          // Load the plugin.
          ga('require', 'linker');
          // Define which domains to autoLink.
          ga('linker:autoLink', ['neo4j.org','neo4j.com','neotechnology.com','graphdatabases.com','graphconnect.com']);
        </script><script type="text/javascript">
          (function() {
          var didInit = false;
          function initMunchkin() {
            if(didInit === false) {
              didInit = true;
              Munchkin.init('710-RRC-335');
            }
          }
          var s = document.createElement('script');
          s.type = 'text/javascript';
          s.async = true;
          s.src = '//munchkin.marketo.net/munchkin.js';
          s.onreadystatechange = function() {
            if (this.readyState == 'complete' || this.readyState == 'loaded') {
              initMunchkin();
            }
          };
          s.onload = initMunchkin;
          document.getElementsByTagName('head')[0].appendChild(s);
          })();
        </script></footer>
   </body>
</html>